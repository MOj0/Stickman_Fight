<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
    <link rel="stylesheet" type="text/css" href="server/client/resources/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script src="server/client/js/p5.min.js"></script>
    <script src="server/client/js/p5.dom.min.js"></script>
    <script src="server/client/js/p5.sound.min.js"></script>
    <script src="server/client/sketch.js"></script>
    <script src="server/client/player.js"></script>

    <script src="server/client/ai.js"></script>
    <script src="server/client/bullet.js"></script>
    <script src="server/client/item.js"></script>


  </head>
  <body oncontextmenu="return false;">

    <div id="p5_loading" class="loadingclass" >
      <div class="animation" ></div>
    </div>

<div id="canvasSize">
    <div id="hud">
      <div id="healthBarOutline">
        <div id="healthBar"></div>
      </div>

      <!-- https://css-tricks.com/fighting-the-space-between-inline-block-elements/ -->
      <div id="inventoryOutline">
        <div id="item1" class="inventoryItem activeItem">1<div class="itemCounter" id="itemCount1">10</div><img src="client/resources/radar.svg">
      </div><div id="item4" class="inventoryItem">2<div class="itemCounter" id="itemCount4">10</div><img src="client/resources/health.svg">
    </div><div id="item5" class="inventoryItem">3<div class="itemCounter" id="itemCount5">10</div><img src="client/resources/maxHealth.svg">
  </div><div id="item6" class="inventoryItem">4<div class="itemCounter" id="itemCount6">10</div><img src="client/resources/teleport.svg">
</div><div id="item8" class="inventoryItem">5<div class="itemCounter" id="itemCount8">10</div><img src="client/resources/jump.svg">
        </div>
      </div>

      <div id="wTypeOutline">
        <div id="item0" class="inventoryItem activeItem"><div class="itemCounter" id="itemCount0">10</div><img src="client/resources/laser0.png">
      </div><div id="item2" class="inventoryItem"><div class="itemCounter" id="itemCount2">10</div><img src="client/resources/laser1.png">
    </div><div id="item3" class="inventoryItem"><div class="itemCounter" id="itemCount3">10</div><img src="client/resources/laser2.png">
        </div>
      </div>

      <div id="xpContainer">
        <div id="xp">
          <!-- Outline showing XP-->
          <div class="xpIndicator" id="xp0"></div>
          <div class="xpIndicator" id="xp1"></div>
          <div class="xpIndicator" id="xp2"></div>
          <div class="xpIndicator" id="xp3"></div>
        </div>
        <div id="level" class="level">0</div>
      </div>
    </div>

    <div id="gameChat">
      <ul id="messages">
      </ul>
      <input id="gameChatInput" type="text" name="message" placeholder="Type your message..." style="display: none;">
    </div>

</div>

<script>
  // When in game chat window is open use ENTER to send message
  var gameChatInput = document.getElementById("gameChatInput");

  gameChatInput.addEventListener("keyup", function(event){
    event.preventDefault();
    if(event.keyCode === 13){

      var message = gameChatInput.value;
      if (message.length > 0) {
        console.log("Sending message!");
        socket.emit('message', message);
      }
      gameChatInput.value = "";
    }

  });
  document.addEventListener("keydown", function(event){ // Prevent Tab default action
    if(event.keyCode === 9){
        event.preventDefault();
    }

  });
</script>
  </body>
</html>
